<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{/layout/index :: dynamic(~{::main})}">
<head>
  <meta charset="UTF-8">
  <title>Checkout</title>
</head>
<body>
<main>
  <div class="container py-4" ng-controller="shopping-cart-ctrl">
    <h3 class="mb-4">ğŸšš Thanh toÃ¡n</h3>

    <!-- Form thanh toÃ¡n -->
    <form name="checkoutForm" ng-submit="cart.checkout()" novalidate>
      <div class="mb-3">
        <label for="shippingAddress" class="form-label">Äá»‹a chá»‰ giao hÃ ng:</label>
        <input type="text" id="shippingAddress" class="form-control"
               ng-model="cart.shippingAddress" required placeholder="Nháº­p Ä‘á»‹a chá»‰ giao hÃ ng">
        <div class="text-danger mt-1" ng-show="checkoutForm.shippingAddress.$touched && checkoutForm.shippingAddress.$invalid">
          Vui lÃ²ng nháº­p Ä‘á»‹a chá»‰ giao hÃ ng.
        </div>
      </div>
      <button type="submit" class="btn btn-primary"
              ng-disabled="checkoutForm.$invalid || cart.items.length === 0">
        Äáº·t hÃ ng
      </button>
    </form>

    <!-- Danh sÃ¡ch sáº£n pháº©m -->
    <div class="mt-5">
      <h5>ğŸ›’ Sáº£n pháº©m trong giá»:</h5>
      <ul class="list-group" ng-if="cart.items.length > 0">
        <li class="list-group-item d-flex justify-content-between align-items-center"
            ng-repeat="item in cart.items">
          <div>
            <strong>{{ item.name }}</strong><br>
            SL: {{ item.qty }} Ã— {{ item.price | currency }}
          </div>
          <span class="fw-bold text-end">{{ cart.amt_of(item) | currency }}</span>
        </li>
      </ul>
      <div class="text-muted mt-3" ng-if="cart.items.length === 0">
        Giá» hÃ ng cá»§a báº¡n Ä‘ang trá»‘ng.
      </div>
      <h5 class="mt-4" ng-if="cart.items.length > 0">Tá»•ng tiá»n: <span class="text-success">{{ cart.amount | currency }}</span></h5>
    </div>
  </div>
</main>
</body>
</html>
